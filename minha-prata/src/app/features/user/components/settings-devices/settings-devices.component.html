<div class="settings-section">
  <div class="settings-section__header">
    <h2 class="settings-section__title">Dispositivos Conectados</h2>
    <div class="header-actions">
      <button class="btn btn--text" (click)="refreshDevices()" [disabled]="isLoading()">
        <span class="btn__icon">ğŸ”„</span>
        Atualizar
      </button>
    </div>
  </div>

  <p class="settings-description">
    Gerencie os dispositivos que estÃ£o atualmente conectados Ã  sua conta.
    Encerre sessÃµes que vocÃª nÃ£o reconhece para manter sua conta segura.
  </p>

  <!-- EstatÃ­sticas -->
  <div class="devices-stats">
    <div class="stat-card">
      <div class="stat-icon">ğŸ“Š</div>
      <div class="stat-info">
        <div class="stat-value">{{ stats().total }}</div>
        <div class="stat-label">Total de SessÃµes</div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">âœ…</div>
      <div class="stat-info">
        <div class="stat-value">{{ stats().current }}</div>
        <div class="stat-label">SessÃ£o Atual</div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">ğŸ“±</div>
      <div class="stat-info">
        <div class="stat-value">{{ stats().other }}</div>
        <div class="stat-label">Outros Dispositivos</div>
      </div>
    </div>
  </div>

  <!-- AÃ§Ã£o em Lote -->
  <div *ngIf="stats().other > 0" class="bulk-action">
    <div class="bulk-action__info">
      <h3 class="bulk-action__title">Encerrar Todas as Outras SessÃµes</h3>
      <p class="bulk-action__description">
        Desconecte de todos os outros dispositivos. VocÃª permanecerÃ¡ logado apenas neste dispositivo.
      </p>
    </div>
    <button class="btn btn--danger" (click)="terminateAllSessions()" [disabled]="terminatingAll()">
      <span *ngIf="terminatingAll()" class="btn__spinner"></span>
      {{ terminatingAll() ? 'Encerrando...' : 'Encerrar Todas' }}
    </button>
  </div>

  <!-- Lista de Dispositivos -->
  <div class="devices-list">
    <div *ngFor="let device of devices()" class="device-card">
      <div class="device-header">
        <div class="device-icon">
          {{ getDeviceIcon(device.device) }}
        </div>
        <div class="device-info">
          <h4 class="device-name">{{ device.device }}</h4>
          <div class="device-meta">
            <span class="meta-item">
              {{ getBrowserIcon(device.browser) }} {{ device.browser }}
            </span>
            <span class="meta-item">
              {{ getLocationFlag(device.location) }} {{ device.location }}
            </span>
            <span class="meta-item">
              â±ï¸ {{ formatDate(device.lastActive) }}
            </span>
            <span class="meta-item">
              ğŸŒ {{ device.ipAddress }}
            </span>
          </div>
        </div>
      </div>

      <div class="device-actions">
        <div class="device-status">
          <span *ngIf="device.isCurrent" class="status-badge status-badge--success">
            âœ… SessÃ£o Atual
          </span>
          <span *ngIf="!device.isCurrent" class="status-badge status-badge--warning">
            ğŸ“ Ativo
          </span>
        </div>

        <button *ngIf="!device.isCurrent" class="btn btn--text btn--danger" (click)="terminateSession(device.id)"
          [disabled]="terminatingSession() === device.id">
          <span *ngIf="terminatingSession() === device.id" class="btn__spinner"></span>
          {{ terminatingSession() === device.id ? 'Encerrando...' : 'Encerrar SessÃ£o' }}
        </button>
      </div>
    </div>
  </div>

  <!-- Estados Vazios/Carregamento -->
  <div *ngIf="isLoading()" class="loading-state">
    <div class="loading-spinner"></div>
    <p>Carregando sessÃµes ativas...</p>
  </div>

  <div *ngIf="!isLoading() && devices().length === 0" class="empty-state">
    <div class="empty-icon">ğŸ“±</div>
    <h3>Nenhuma SessÃ£o Ativa</h3>
    <p>NÃ£o foram encontradas sessÃµes ativas em outros dispositivos.</p>
  </div>

  <!-- Dicas de SeguranÃ§a -->
  <div class="security-tips">
    <h4>ğŸ”’ Dicas de SeguranÃ§a</h4>
    <ul>
      <li><strong>Verifique sessÃµes desconhecidas</strong> - Encerre qualquer sessÃ£o que vocÃª nÃ£o reconhece</li>
      <li><strong>LocalizaÃ§Ãµes suspeitas</strong> - AtenÃ§Ã£o a sessÃµes de paÃ­ses onde vocÃª nÃ£o esteve</li>
      <li><strong>Logout em dispositivos pÃºblicos</strong> - Sempre faÃ§a logout em computadores compartilhados</li>
      <li><strong>Altere sua senha</strong> - Se suspeitar de acesso nÃ£o autorizado</li>
    </ul>
  </div>
</div>