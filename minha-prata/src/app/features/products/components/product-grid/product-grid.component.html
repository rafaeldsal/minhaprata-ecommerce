<div class="product-grid-container">

  <!-- Header com informações da busca -->
  <div class="search-results-header" *ngIf="isSearching || searchTerm">
    <div class="search-info">
      <h3 *ngIf="searchResultsCount > 0">
        🔍 {{ searchResultsCount }} produto(s) encontrado(s) para "{{ searchTerm }}"
      </h3>
      <h3 *ngIf="searchResultsCount === 0 && searchTerm">
        🔍 Nenhum produto encontrado para "{{ searchTerm }}"
      </h3>
      <button class="clear-search-btn" (click)="clearSearch()" *ngIf="searchTerm">
        ✕ Limpar busca
      </button>
    </div>
  </div>

  <!-- Estados de loading, vazio e grid normal -->
  <div class="loading-state" *ngIf="loading">
    <div class="loading-spinner"></div>
    <p>Carregando produtos...</p>
  </div>

  <div class="empty-state" *ngIf="!loading && displayedProducts.length === 0">
    <i class="fa-solid fa-box-open"></i>
    <h3>Nenhum produto encontrado</h3>
    <p *ngIf="searchTerm">Tente buscar por outro termo</p>
    <p *ngIf="!searchTerm">Tente buscar por outro termo ou categoria</p>
  </div>

  <div class="product-grid" *ngIf="!loading && displayedProducts.length > 0">
    <app-product-card *ngFor="let product of displayedProducts" [product]="product"
      (viewDetails)="onViewDetails($event)" (addToCart)="onAddToCart($event)"></app-product-card>
  </div>
</div>