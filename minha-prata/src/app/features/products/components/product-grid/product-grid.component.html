<div class="product-grid-container">
  <!-- Debug: Mostrar Informações -->
  <!-- DEBUG TEMPORÁRIO -->
  <div style="background: #e3f2fd; padding: 15px; margin: 10px; border-radius: 8px; border: 2px solid #2196f3;">
    <h3>🔍 DEBUG INFO</h3>
    <p><strong>Loading:</strong> {{ loading }}</p>
    <p><strong>Products Array:</strong> {{ products.length }} items</p>
    <p><strong>Displayed Products:</strong> {{ displayedProducts.length }} items</p>
    <p><strong>Is Searching:</strong> {{ isSearching }}</p>
    <p><strong>Search Term:</strong> "{{ searchTerm }}"</p>
    <div *ngIf="displayedProducts.length > 0">
      <p><strong>Produtos para exibir:</strong></p>
      <ul>
        <li *ngFor="let product of displayedProducts">{{ product.name }}</li>
      </ul>
    </div>
  </div>
  <!-- Header com informações da busca -->
  <div class="search-results-header" *ngIf="isSearching || searchTerm">
    <div class="search-info">
      <h3 *ngIf="searchResultsCount > 0">
        🔍 {{ searchResultsCount }} produto(s) encontrado(s) para "{{ searchTerm }}"
      </h3>
      <h3 *ngIf="searchResultsCount === 0 && searchTerm">
        🔍 Nenhum produto encontrado para "{{ searchTerm }}"
      </h3>
      <button class="clear-search-btn" (click)="clearSearch()" *ngIf="searchTerm">
        ✕ Limpar busca
      </button>
    </div>
  </div>

  <!-- Estados de loading, vazio e grid normal -->
  <div class="loading-state" *ngIf="loading">
    <div class="loading-spinner"></div>
    <p>Carregando produtos...</p>
  </div>

  <div class="empty-state" *ngIf="!loading && displayedProducts.length === 0">
    <i class="fa-solid fa-box-open"></i>
    <h3>Nenhum produto encontrado</h3>
    <p *ngIf="searchTerm">Tente buscar por outro termo</p>
    <p *ngIf="!searchTerm">Tente buscar por outro termo ou categoria</p>
  </div>

  <!-- ATUALIZADO: Removeu (addToCart) do product-card -->
  <div class="product-grid" *ngIf="!loading && displayedProducts.length > 0">
    <app-product-card *ngFor="let product of displayedProducts" [product]="product"></app-product-card>
  </div>
</div>